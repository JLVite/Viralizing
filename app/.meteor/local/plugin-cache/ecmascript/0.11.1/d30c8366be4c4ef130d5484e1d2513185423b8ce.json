{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/blackstoneteam/repos/viralizing-web/app/imports/modules/accounts/ui/components/account-pages/layout.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"imports/modules/accounts/ui/components/account-pages/layout.jsx","filename":"/home/blackstoneteam/repos/viralizing-web/app/imports/modules/accounts/ui/components/account-pages/layout.jsx","passPerPreset":false,"envName":"development","cwd":"/home/blackstoneteam/repos/viralizing-web/app","root":"/home/blackstoneteam/repos/viralizing-web/app","generatorOpts":{"filename":"/home/blackstoneteam/repos/viralizing-web/app/imports/modules/accounts/ui/components/account-pages/layout.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/modules/accounts/ui/components/account-pages/layout.jsx"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar React;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar swal;\nmodule.watch(require(\"sweetalert2\"), {\n  \"default\": function (v) {\n    swal = v;\n  }\n}, 1);\nvar Translate;\nmodule.watch(require(\"react-redux-i18n\"), {\n  Translate: function (v) {\n    Translate = v;\n  }\n}, 2);\n\nvar AccountPagesLayout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(AccountPagesLayout, _React$Component);\n\n  function AccountPagesLayout() {\n    var _this;\n\n    _this = _React$Component.call(this) || this;\n    _this.state = {\n      selected: []\n    };\n    _this.selectPage = _this.selectPage.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    _this.connectPages = _this.connectPages.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    return _this;\n  }\n\n  var _proto = AccountPagesLayout.prototype;\n\n  _proto.selectPage = function () {\n    function selectPage(page) {\n      var component = this;\n      return function () {\n        console.log(\"SELECT_PAGE\");\n        var newState = (0, _objectSpread2.default)({}, component.state);\n        var index = newState.selected.indexOf(page);\n\n        if (index === -1) {\n          newState.selected.push(page);\n        } else {\n          newState.selected.splice(page, 1);\n        }\n\n        component.setState(newState);\n      };\n    }\n\n    return selectPage;\n  }();\n\n  _proto.connectPages = function () {\n    function connectPages() {\n      var accountID = this.props.accountID;\n      var component = this;\n      var pages = this.state.selected.map(function (p) {\n        return p.id;\n      });\n      console.log(\"CONNECT_PAGES\", accountID, pages);\n      Meteor.call(\"connect-facebook-pages\", accountID, pages, function (err, res) {\n        console.log('CONNECT_WITH_CALLBACK', arguments);\n\n        if (err) {\n          if (err.error === 500) {\n            err.error = \"Failed to connect account.\";\n          }\n\n          notie.alert(3, err.error, 3);\n          return;\n        }\n\n        console.log(\"CONNECTION_SUCCESFUL\", res);\n        component.props.refetch().then(function () {\n          component.props.close(); //component.props.history.push(\"/accounts/edit/\" + res);\n        });\n      });\n    }\n\n    return connectPages;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _this2 = this;\n\n      var pages = this.props.pages;\n      return React.createElement(\"div\", null, React.createElement(\"div\", {\n        className: \"row pages-list\"\n      }, pages.map(function (page) {\n        return React.createElement(\"div\", {\n          className: \"col-md-6 list-group-item \" + (_this2.state.selected.indexOf(page) == -1 ? \"\" : \"active\"),\n          key: page.id,\n          onClick: _this2.selectPage(page)\n        }, React.createElement(\"div\", {\n          className: \"selected\"\n        }, React.createElement(\"i\", {\n          className: \"icon wb-check\"\n        })), React.createElement(\"div\", {\n          className: \"media\"\n        }, React.createElement(\"div\", {\n          className: \"media-left\"\n        }, React.createElement(\"a\", {\n          className: \"avatar\",\n          href: \"javascript:void(0)\"\n        }, React.createElement(\"img\", {\n          className: \"img-fluid\",\n          src: page.picture,\n          alt: \"...\"\n        }))), React.createElement(\"div\", {\n          className: \"media-body\"\n        }, React.createElement(\"h4\", {\n          className: \"media-heading\"\n        }, page.name), React.createElement(\"small\", null, page.category)), React.createElement(\"div\", {\n          className: \"media-right\"\n        })));\n      })), React.createElement(\"div\", {\n        className: \"row\"\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\"\n      }, React.createElement(\"a\", {\n        className: \"btn btn-primary pull-right\",\n        onClick: this.connectPages\n      }, \"Connect Pages\"))));\n    }\n\n    return render;\n  }();\n\n  return AccountPagesLayout;\n}(React.Component);\n\nmodule.exportDefault(AccountPagesLayout);","map":{"version":3,"sources":["imports/modules/accounts/ui/components/account-pages/layout.jsx"],"names":["React","module","watch","require","v","swal","Translate","AccountPagesLayout","state","selected","selectPage","bind","connectPages","page","component","console","log","newState","index","indexOf","push","splice","setState","accountID","props","pages","map","p","id","Meteor","call","err","res","arguments","error","notie","alert","refetch","then","close","render","picture","name","category","Component","exportDefault"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport swal from \"sweetalert2\";\nimport {Translate} from \"react-redux-i18n\";\n\nclass AccountPagesLayout extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            selected: []\n        };\n\n        this.selectPage = this.selectPage.bind(this);\n        this.connectPages=this.connectPages.bind(this);\n    }\n\n    selectPage(page) {\n        let component = this;\n        return function () {\n            console.log(\"SELECT_PAGE\");\n            let newState = {...component.state};\n            let index = newState.selected.indexOf(page);\n            if (index === -1) {\n                newState.selected.push(page);\n            } else {\n                newState.selected.splice(page, 1);\n            }\n            component.setState(newState);\n        }\n    }\n\n    connectPages(){\n        let {accountID}=this.props;\n        let component=this;\n        let pages=this.state.selected.map((p)=>p.id);\n        console.log(\"CONNECT_PAGES\", accountID, pages);\n        Meteor.call(\"connect-facebook-pages\", accountID, pages, function (err, res) {\n            console.log('CONNECT_WITH_CALLBACK', arguments);\n            if (err) {\n                if (err.error === 500) {\n                    err.error = \"Failed to connect account.\";\n                }\n                notie.alert(3, err.error, 3);\n                return\n            }\n            console.log(\"CONNECTION_SUCCESFUL\", res);\n            component.props.refetch().then(function () {\n                component.props.close();\n                //component.props.history.push(\"/accounts/edit/\" + res);\n            });\n        });\n    }\n\n    render() {\n        let {pages}=this.props;\n        return (\n            <div>\n                <div className=\"row pages-list\">\n                    {pages.map((page) => (\n                        <div className={\"col-md-6 list-group-item \"+(this.state.selected.indexOf(page)==-1?\"\":\"active\")} key={page.id} onClick={this.selectPage(page)}>\n                            <div className=\"selected\">\n                                <i className=\"icon wb-check\"/>\n                            </div>\n                            <div className=\"media\">\n                                <div className=\"media-left\">\n                                    <a className=\"avatar\" href=\"javascript:void(0)\">\n                                        <img className=\"img-fluid\" src={page.picture} alt=\"...\"/>\n                                    </a>\n                                </div>\n                                <div className=\"media-body\">\n                                    <h4 className=\"media-heading\">{page.name}</h4>\n                                    <small>{page.category}</small>\n                                </div>\n                                <div className=\"media-right\">\n\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-md-12\">\n                        <a className=\"btn btn-primary pull-right\" onClick={this.connectPages}>Connect Pages</a>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default AccountPagesLayout;"]},"sourceType":"script","hash":"d30c8366be4c4ef130d5484e1d2513185423b8ce"}
