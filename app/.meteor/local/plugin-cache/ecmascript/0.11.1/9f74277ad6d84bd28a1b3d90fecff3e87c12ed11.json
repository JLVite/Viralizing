{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/blackstoneteam/repos/viralizing-web/app/imports/modules/advertising/ui/components/facebook/ad-sets/list.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"imports/modules/advertising/ui/components/facebook/ad-sets/list.jsx","filename":"/home/blackstoneteam/repos/viralizing-web/app/imports/modules/advertising/ui/components/facebook/ad-sets/list.jsx","passPerPreset":false,"envName":"development","cwd":"/home/blackstoneteam/repos/viralizing-web/app","root":"/home/blackstoneteam/repos/viralizing-web/app","generatorOpts":{"filename":"/home/blackstoneteam/repos/viralizing-web/app/imports/modules/advertising/ui/components/facebook/ad-sets/list.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/modules/advertising/ui/components/facebook/ad-sets/list.jsx"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar React;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar AdSetsListItem;\nmodule.watch(require(\"./list-item\"), {\n  \"default\": function (v) {\n    AdSetsListItem = v;\n  }\n}, 1);\nvar Modal;\nmodule.watch(require(\"react-modal\"), {\n  \"default\": function (v) {\n    Modal = v;\n  }\n}, 2);\nvar AdSetsEdit;\nmodule.watch(require(\"./edit\"), {\n  \"default\": function (v) {\n    AdSetsEdit = v;\n  }\n}, 3);\nvar notie;\nmodule.watch(require(\"notie\"), {\n  \"default\": function (v) {\n    notie = v;\n  }\n}, 4);\nvar moment;\nmodule.watch(require(\"moment\"), {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 5);\n\nvar AdSetsList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(AdSetsList, _React$Component);\n\n  function AdSetsList() {\n    var _this;\n\n    _this = _React$Component.call(this) || this;\n    _this.state = {\n      modalIsOpen: false,\n      current: null\n    };\n    _this.openModal = _this.openModal.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    _this.closeModal = _this.closeModal.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    _this.editAdSet = _this.editAdSet.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    _this.formSubmit = _this.formSubmit.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    return _this;\n  }\n\n  var _proto = AdSetsList.prototype;\n\n  _proto.openModal = function () {\n    function openModal() {\n      this.setState({\n        modalIsOpen: true\n      });\n    }\n\n    return openModal;\n  }();\n\n  _proto.closeModal = function () {\n    function closeModal() {\n      this.setState({\n        modalIsOpen: false,\n        current: null\n      });\n    }\n\n    return closeModal;\n  }();\n\n  _proto.editAdSet = function () {\n    function editAdSet(adSet) {\n      var component = this;\n      return function () {\n        component.setState({\n          modalIsOpen: true,\n          current: adSet\n        });\n      };\n    }\n\n    return editAdSet;\n  }();\n\n  _proto.formSubmit = function () {\n    function formSubmit(values) {\n      var _this$props = this.props,\n          accountID = _this$props.accountID,\n          adAccountID = _this$props.adAccountID,\n          campaignID = _this$props.campaignID;\n      var name = values.name,\n          adlabels = values.adlabels,\n          startDate = values.startDate,\n          endDate = values.endDate,\n          targeting = values.targeting,\n          billingEvent = values.billingEvent;\n      var countries_array = targeting.countries.map(function (c) {\n        return c.key;\n      });\n      var user_device_array = targeting.user_device.map(function (dev) {\n        return dev.key;\n      });\n      var user_os_array = targeting.user_os.map(function (os) {\n        return os.key;\n      });\n      console.log(targeting);\n      var platforms_array = targeting.publisher.map(function (pl) {\n        return pl.value;\n      });\n      var options = {\n        year: '2-digit',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      };\n      console.log('type', (0, _typeof2.default)(campaignID));\n      var obj = {\n        \"name\": name,\n        \"adLabels\": adlabels,\n        \"daily_budget\": 2000,\n        \"bid_amount\": 2,\n        \"start_time\": moment(startDate).format('DD-MM-YYYY h:mm'),\n        \"end_time\": moment(endDate).format('DD-MM-YYYY h:mm'),\n        \"billing_event\": billingEvent,\n        \"campaign_id\": campaignID,\n        \"status\": \"PAUSED\",\n        \"targeting\": {\n          \"user_device\": user_device_array,\n          \"user_os\": user_os_array,\n          \"geo_locations\": {\n            \"countries\": countries_array\n          },\n          \"publisher_platforms\": platforms_array\n        }\n      };\n      console.log(\"FORM_SUBMITED\", obj);\n      Meteor.call('fb-marketing-adsets-create', accountID, adAccountID, obj, function (err, res) {\n        console.log('RESPONSE', err, res);\n\n        if (err) {\n          notie(3, err.message, 3);\n          return;\n        } // What to do when success\n\n      });\n    }\n\n    return formSubmit;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          adSets = _this$props2.adSets,\n          setAdSet = _this$props2.setAdSet,\n          active = _this$props2.active;\n      console.log(\"AdSetsList\", adSets);\n      return React.createElement(\"div\", null, React.createElement(\"div\", {\n        className: \"title\"\n      }, \"Ad Groups\", React.createElement(\"button\", {\n        className: \"advertising-button\",\n        onClick: this.openModal\n      }, React.createElement(\"i\", {\n        className: \"fa fa-plus-circle\",\n        \"aria-hidden\": \"true\"\n      }))), React.createElement(\"div\", {\n        className: \"list\"\n      }, adSets.map(function (a, i) {\n        return React.createElement(AdSetsListItem, {\n          key: i,\n          adSet: a,\n          setAdSet: setAdSet,\n          active: active,\n          select: _this2.editAdSet\n        });\n      })), React.createElement(Modal, {\n        isOpen: this.state.modalIsOpen,\n        onRequestClose: this.closeModal,\n        className: \"advertising-modal\",\n        closeTimeoutMS: 800,\n        contentLabel: \"Example Modal\"\n      }, React.createElement(\"button\", {\n        className: \"close\",\n        onClick: this.closeModal\n      }, React.createElement(\"i\", {\n        className: \"icon wb-close-mini\",\n        \"aria-hidden\": \"true\"\n      })), React.createElement(AdSetsEdit, {\n        close: this.closeModal,\n        onSubmit: this.formSubmit,\n        initialValues: this.state.current\n      })));\n    }\n\n    return render;\n  }();\n\n  return AdSetsList;\n}(React.Component);\n\nmodule.exportDefault(AdSetsList);","map":{"version":3,"sources":["imports/modules/advertising/ui/components/facebook/ad-sets/list.jsx"],"names":["React","module","watch","require","v","AdSetsListItem","Modal","AdSetsEdit","notie","moment","AdSetsList","state","modalIsOpen","current","openModal","bind","closeModal","editAdSet","formSubmit","setState","adSet","component","values","props","accountID","adAccountID","campaignID","name","adlabels","startDate","endDate","targeting","billingEvent","countries_array","countries","map","c","key","user_device_array","user_device","dev","user_os_array","user_os","os","console","log","platforms_array","publisher","pl","value","options","year","month","day","hour","minute","obj","format","Meteor","call","err","res","message","render","adSets","setAdSet","active","a","i","Component","exportDefault"],"mappings":"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","sourcesContent":["import React from 'react'\nimport AdSetsListItem from \"./list-item\";\nimport Modal from \"react-modal\";\nimport AdSetsEdit from \"./edit\";\nimport notie from 'notie';\nimport moment from 'moment';\n\nclass AdSetsList extends React.Component{\n    constructor() {\n        super();\n\n        this.state = {\n            modalIsOpen: false,\n            current: null\n        };\n\n        this.openModal = this.openModal.bind(this);\n        this.closeModal = this.closeModal.bind(this);\n        this.editAdSet=this.editAdSet.bind(this);\n        this.formSubmit = this.formSubmit.bind(this);\n    }\n\n    openModal() {\n        this.setState({modalIsOpen: true});\n    }\n\n    closeModal() {\n        this.setState({modalIsOpen: false, current: null});\n    }\n    editAdSet(adSet){\n        let component=this;\n        return function(){\n            component.setState({modalIsOpen: true, current: adSet});\n        }\n    }\n    formSubmit(values){\n        let {accountID, adAccountID, campaignID} = this.props;\n        let { name, adlabels, startDate, endDate, targeting, billingEvent } = values;\n        let countries_array = targeting.countries.map(c=>c.key);\n        let user_device_array = targeting.user_device.map(dev=>dev.key);\n        let user_os_array = targeting.user_os.map(os=>os.key);\n        console.log(targeting)\n        let platforms_array = targeting.publisher.map(pl=>pl.value);\n        let options = { year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' };\n        console.log('type',typeof(campaignID))\n        let obj = {\n                \"name\": name,   \n                \"adLabels\":adlabels,\n                \"daily_budget\": 2000,\n                \"bid_amount\": 2,\n                \"start_time\": moment(startDate).format('DD-MM-YYYY h:mm'),\n                \"end_time\": moment(endDate).format('DD-MM-YYYY h:mm'),\n                \"billing_event\": billingEvent,\n                \"campaign_id\": campaignID,\n                \"status\": \"PAUSED\",\n                \"targeting\":{\n                    \"user_device\": user_device_array, \n                    \"user_os\": user_os_array,\n                    \"geo_locations\": {\"countries\": countries_array},\n                    \"publisher_platforms\": platforms_array\n                }\n            };\n        console.log(\"FORM_SUBMITED\",obj)\n         Meteor.call('fb-marketing-adsets-create',accountID,adAccountID,obj, function(err,res){\n                console.log('RESPONSE',err,res)\n                if(err) {\n                    notie(3, err.message, 3);\n                    return\n                }\n                // What to do when success\n            });\n    }\n    render(){\n        let {adSets, setAdSet, active}=this.props;\n        console.log(\"AdSetsList\",adSets);\n        \n        return(\n            <div >\n                <div className=\"title\">\n                    Ad Groups\n                    <button className=\"advertising-button\" onClick={this.openModal}>\n                        <i className=\"fa fa-plus-circle\" aria-hidden=\"true\"/>\n                    </button>\n                </div>\n                <div className=\"list\">\n                    {adSets.map((a,i)=><AdSetsListItem key={i} adSet={a} setAdSet={setAdSet} active={active} select={this.editAdSet}/>)}\n                </div>\n                <Modal\n                    isOpen={this.state.modalIsOpen}\n                    onRequestClose={this.closeModal}\n                    className=\"advertising-modal\"\n                    closeTimeoutMS={800}\n                    contentLabel=\"Example Modal\"\n                >\n                    <button className=\"close\" onClick={this.closeModal}>\n                        <i className=\"icon wb-close-mini\" aria-hidden=\"true\" />\n                    </button>\n                    <AdSetsEdit close={this.closeModal}\n                                onSubmit={this.formSubmit}\n                                initialValues={this.state.current}/>\n                </Modal>\n            </div>\n        )\n    }\n}\n\nexport default AdSetsList;\n\n\n"]},"sourceType":"script","hash":"9f74277ad6d84bd28a1b3d90fecff3e87c12ed11"}
