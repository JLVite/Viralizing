{"metadata":{},"options":{"plugins":[{"key":"base$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"base$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$2","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$4","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"base$0$9","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$10","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/blackstoneteam/repos/viralizing-web/app/imports/server/schemas/search/resolvers/search.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"imports/server/schemas/search/resolvers/search.jsx","filename":"/home/blackstoneteam/repos/viralizing-web/app/imports/server/schemas/search/resolvers/search.jsx","passPerPreset":false,"envName":"development","cwd":"/home/blackstoneteam/repos/viralizing-web/app","root":"/home/blackstoneteam/repos/viralizing-web/app","presets":[],"generatorOpts":{"filename":"/home/blackstoneteam/repos/viralizing-web/app/imports/server/schemas/search/resolvers/search.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/server/schemas/search/resolvers/search.jsx"}},"code":"let Meteor;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nmodule.exportDefault({\n  Query: {\n    search(root, args, context) {\n      const userID = context.userId || \"zfbP3aTqiP8yAg8NQ\";\n      let results = [];\n      console.log(\"SOCIAL_MEDIA_SEARCH\", args);\n\n      if (args.google) {\n        console.log(\"GOOGLE_SEARCH\");\n        let google = Meteor.call(\"google-search\", args.query);\n\n        if (google.error) {\n          console.log(\"ERROR\");\n          let newItem = {\n            link: \"https://viralizing.me\",\n            title: \"Unavailable\",\n            description: \"Google Search is not currently available.\",\n            date: null,\n            network: \"google\",\n            media: {\n              type: null,\n              url: null,\n              preview: null\n            },\n            user: {\n              name: null,\n              screenName: null,\n              avatar: null\n            }\n          };\n          results.push(newItem);\n        } else {\n          if (!google.items) {\n            console.log(\"GOOGLE_ERROR\", google);\n          } else {\n            google.items.forEach(item => {\n              let newItem = {\n                link: item.link,\n                title: item.title,\n                description: item.snippet,\n                date: null,\n                network: \"google\",\n                media: {\n                  type: null,\n                  url: null,\n                  preview: null\n                },\n                user: {\n                  name: null,\n                  screenName: null,\n                  avatar: null\n                }\n              };\n              results.push(newItem);\n            });\n          }\n        }\n      }\n\n      if (args.twitter) {\n        console.log(\"TWITTER_SEARCH\");\n        let twitter = Meteor.call(\"twitter-search\", args.query);\n        twitter.statuses.forEach(item => {\n          let newItem = {\n            link: null,\n            title: null,\n            description: item.text,\n            date: item.created_at,\n            network: \"twitter\",\n            media: {},\n            user: {\n              name: item.user.name,\n              screenName: item.user.screen_name,\n              avatar: item.user.profile_image_url_https\n            }\n          };\n\n          if (item.entities && item.entities.media && item.entities.media[0] && item.entities.media[0].media_url_https) {\n            let entityMedia = item.entities.media[0];\n            newItem.media = {\n              type: entityMedia.type,\n              url: entityMedia.media_url_https,\n              preview: null\n            };\n          }\n\n          if (item.extended_entities && item.extended_entities.media && item.extended_entities.media[0] && item.extended_entities.media[0].video_info) {\n            let video = item.extended_entities.media[0].video_info;\n            newItem.media = {\n              type: \"video\",\n              url: video.variants[0].url,\n              preview: item.entities.media[0].media_url_https\n            };\n          }\n\n          results.push(newItem);\n        });\n      }\n\n      return results;\n    },\n\n    woeidPlaces(root, args, context) {\n      return Meteor.call(\"twitter-trends-available\");\n    },\n\n    twitterTrends(root, args, context) {\n      if (!args.woeid) {\n        return [];\n      }\n\n      let res = Meteor.call(\"twitter-trends-place\", args.woeid);\n      return res[0].trends;\n    }\n\n  },\n  TwitterTrendingPlace: {\n    parent: function (place) {\n      return place.parentid;\n    },\n    type: function (place) {\n      return place.placeType.name;\n    }\n  },\n  TwitterTrends: {\n    hashtag: function (trend) {\n      return trend.name;\n    },\n    promoted: function (trend) {\n      return trend.promoted_content;\n    },\n    volume: function (trend) {\n      return trend.tweet_volume;\n    }\n  }\n});","map":{"version":3,"sources":["imports/server/schemas/search/resolvers/search.jsx"],"names":["Meteor","module","watch","require","v","exportDefault","Query","search","root","args","context","userID","userId","results","console","log","google","call","query","error","newItem","link","title","description","date","network","media","type","url","preview","user","name","screenName","avatar","push","items","forEach","item","snippet","twitter","statuses","text","created_at","screen_name","profile_image_url_https","entities","media_url_https","entityMedia","extended_entities","video_info","video","variants","woeidPlaces","twitterTrends","woeid","res","trends","TwitterTrendingPlace","parent","place","parentid","placeType","TwitterTrends","hashtag","trend","promoted","promoted_content","volume","tweet_volume"],"mappings":"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","sourcesContent":["import {Meteor} from 'meteor/meteor';\n\nexport default {\n    Query: {\n        search(root, args, context) {\n            const userID = context.userId || \"zfbP3aTqiP8yAg8NQ\";\n            let results=[];\n            console.log(\"SOCIAL_MEDIA_SEARCH\",args);\n            if (args.google) {\n                console.log(\"GOOGLE_SEARCH\");\n                let google = Meteor.call(\"google-search\", args.query);\n                if(google.error){\n                    console.log(\"ERROR\");\n                    let newItem={\n                        link:\"https://viralizing.me\",\n                        title:\"Unavailable\",\n                        description: \"Google Search is not currently available.\",\n                        date: null,\n                        network:\"google\",\n                        media: {\n                            type: null,\n                            url: null,\n                            preview: null\n                        },\n                        user:{\n                            name:null,\n                            screenName: null,\n                            avatar: null\n                        }\n                    };\n                    results.push(newItem);\n                }else{\n                    if(!google.items){\n                        console.log(\"GOOGLE_ERROR\",google);\n                    }else{\n                        google.items.forEach((item) => {\n                            let newItem={\n                                link:item.link,\n                                title:item.title,\n                                description: item.snippet,\n                                date: null,\n                                network:\"google\",\n                                media: {\n                                    type: null,\n                                    url: null,\n                                    preview: null\n                                },\n                                user:{\n                                    name:null,\n                                    screenName: null,\n                                    avatar: null\n                                }\n                            };\n                            results.push(newItem);\n                        });\n                    }\n                }\n            }\n            if(args.twitter) {\n                console.log(\"TWITTER_SEARCH\");\n                let twitter = Meteor.call(\"twitter-search\", args.query);\n                twitter.statuses.forEach((item)=> {\n                    let newItem={\n                        link:null,\n                        title:null,\n                        description: item.text,\n                        date: item.created_at,\n                        network:\"twitter\",\n                        media: {},\n                        user:{\n                            name:item.user.name,\n                            screenName:item.user.screen_name,\n                            avatar:item.user.profile_image_url_https\n                        }\n                    };\n                    if(item.entities && item.entities.media && item.entities.media[0] && item.entities.media[0].media_url_https){\n                        let entityMedia=item.entities.media[0];\n                        newItem.media={\n                            type: entityMedia.type,\n                            url: entityMedia.media_url_https,\n                            preview:null,\n                        };\n                    }\n                    if(item.extended_entities && item.extended_entities.media && item.extended_entities.media[0] && item.extended_entities.media[0].video_info){\n                        let video=item.extended_entities.media[0].video_info;\n                        newItem.media={\n                            type: \"video\",\n                            url: video.variants[0].url,\n                            preview: item.entities.media[0].media_url_https\n                        };\n                    }\n                    results.push(newItem);\n                });\n            }\n            return results;\n        },\n        woeidPlaces(root, args, context){\n            return Meteor.call(\"twitter-trends-available\");\n        },\n        twitterTrends(root, args, context){\n            if(!args.woeid){\n                return [];\n            }\n            let res=Meteor.call(\"twitter-trends-place\",args.woeid);\n            return res[0].trends\n        }\n    },\n    TwitterTrendingPlace: {\n        parent: function(place){\n            return place.parentid\n        },\n        type: function(place){\n            return place.placeType.name\n        }\n    },\n    TwitterTrends: {\n        hashtag: function (trend) {\n            return trend.name;\n        },\n        promoted: function (trend) {\n            return trend.promoted_content;\n        },\n        volume: function (trend) {\n            return trend.tweet_volume;\n        }\n    }\n}\n"]},"sourceType":"script","hash":"78158b6b5587353562c7508510f93921d70a6f06"}
